<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>Zenith Login | Secure Portal</title>
    <link rel="stylesheet" href="login-style.css">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { firebaseConfig } from "./firebase-config.js";

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        window.loginWithGoogle = function() {
            signInWithPopup(auth, provider)
                .then((result) => {
                    // التوجيه الصحيح لملف النظام الرئيسي
                    window.location.href = "main.html"; 
                }).catch((error) => {
                    console.error("Login Error:", error.message);
                });
        }
    </script>
</head>
<body>
    <canvas id="p"></canvas>
    <div class="panel">
        <div class="side"><div style="width: 80px; height: 80px; border: 1px solid #00f2ff; border-radius: 20px; display: flex; justify-content: center; align-items: center;"><span style="color:#00f2ff; font-size: 40px; font-weight: 900;">Z</span></div></div>
        <div class="core">
            <h2>ZENITH ACCESS</h2>
            <input type="text" placeholder="Username" style="width:100%; padding:10px; margin-bottom:10px; background:rgba(255,255,255,0.05); border:1px solid #333; color:#fff;">
            <input type="password" placeholder="Password" style="width:100%; padding:10px; margin-bottom:20px; background:rgba(255,255,255,0.05); border:1px solid #333; color:#fff;">
            <button class="google-btn" onclick="loginWithGoogle()" style="width:100%; padding:12px; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; font-weight:bold;">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="20">
                Continue with Google
            </button>
        </div>
        <div class="side"><span style="font-size:80px; font-weight:900; color:#00f2ff;">Z</span><p style="color:#fff; font-size:11px; letter-spacing:5px; opacity:0.6;">SYSTEM OS</p></div>
    </div>
    <script src="login-particles.js"></script>
</body>
</html>
